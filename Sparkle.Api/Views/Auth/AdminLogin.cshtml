@model Sparkle.Api.Controllers.AuthController.LoginViewModel
@{
    ViewData["Title"] = "Admin Login";
    Layout = null;
    var langCookie = Context.Request.Cookies["sparkle-lang"] == "bn" ? "bn" : "en";
    var isBangla = langCookie == "bn";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@(isBangla ? "অ্যাডমিন লগইন - স্পার্কল" : "Admin Login - Sparkle")</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="~/css/site.css" rel="stylesheet" />
    <style>
        @@font-face {
            font-family: 'SolaimanLipi';
            src: url('https://cdn.jsdelivr.net/npm/solaimanlipi@1.0.0/SolaimanLipi.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        * { font-family: 'SolaimanLipi', 'Inter', sans-serif; margin: 0; padding: 0; box-sizing: border-box; }
        
        /* Admin Theme: Deep Blue & Gold */
        :root {
            --admin-primary: #1e3a8a; /* Dark Blue */
            --admin-secondary: #1e40af;
            --admin-accent: #fbbf24; /* Gold */
            --admin-gradient-start: #0f172a;
            --admin-gradient-end: #1e3a8a;
        }

        body { background: linear-gradient(135deg, var(--admin-gradient-start) 0%, var(--admin-gradient-end) 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 1rem; }
        
        .login-container { width: 100%; max-width: 1100px; background: white; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); overflow: hidden; display: grid; grid-template-columns: 1fr 1fr; }
        
        .login-left { background: linear-gradient(135deg, var(--admin-gradient-start) 0%, var(--admin-gradient-end) 100%); padding: 3rem; color: white; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; position: relative; overflow: hidden; }
        
        /* Subtle animated background pattern */
        .login-left::before { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 60%); animation: pulse 15s ease-in-out infinite; }
        @@keyframes pulse { 0%, 100% { transform: scale(1) rotate(0deg); } 50% { transform: scale(1.1) rotate(180deg); } }
        
        .login-left h1 { font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem; position: relative; z-index: 1; color: white; }
        .login-left p { font-size: 1.1rem; opacity: 0.9; margin-bottom: 2rem; position: relative; z-index: 1; color: #e2e8f0; }
        
        .login-left .feature { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; font-size: 1rem; position: relative; z-index: 1; color: #f1f5f9; }
        .login-left .feature i { font-size: 1.5rem; color: var(--admin-accent); }
        
        .login-left .illustration { font-size: 8rem; margin-top: 2rem; opacity: 0.9; position: relative; z-index: 1; color: var(--admin-accent); }
        
        .admin-badge { display: inline-block; background: var(--admin-accent); color: #0f172a; padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1.5rem; position: relative; z-index: 1; }
        
        .login-right { padding: 3rem; max-height: 95vh; overflow-y: auto; background: white; }
        .login-card { max-width: 400px; margin: 0 auto; }
        
        .login-card h2 { font-size: 1.8rem; font-weight: 700; color: #0f172a; margin-bottom: 0.5rem; }
        .login-card .subtitle { font-size: 1rem; color: #64748b; margin-bottom: 2rem; }
        
        .form-group { margin-bottom: 1.5rem; position: relative; }
        .form-group label { font-size: 0.9rem; font-weight: 600; color: #334155; margin-bottom: 0.5rem; display: block; }
        .form-control { border: 2px solid #e2e8f0; border-radius: 8px; padding: 0.75rem 1rem; font-size: 1rem; width: 100%; transition: all 0.3s; color: #0f172a; background-color: #f8fafc; }
        .form-control:focus { border-color: var(--admin-primary); box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.1); outline: none; background-color: white; }
        
        .password-toggle { position: absolute; right: 1rem; top: 2.3rem; cursor: pointer; color: #64748b; }
        .password-toggle:hover { color: var(--admin-primary); }
        
        .btn-primary { background: linear-gradient(135deg, var(--admin-gradient-start) 0%, var(--admin-gradient-end) 100%); border: none; border-radius: 8px; padding: 0.85rem 1.5rem; font-size: 1rem; font-weight: 600; color: white; width: 100%; cursor: pointer; transition: all 0.3s; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(30, 58, 138, 0.4); }
        
        .remember-forgot { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; font-size: 0.9rem; }
        .remember-forgot label { display: flex; align-items: center; gap: 0.5rem; color: #475569; cursor: pointer; }
        .remember-forgot input[type="checkbox"] { width: 16px; height: 16px; cursor: pointer; accent-color: var(--admin-primary); }
        .remember-forgot a { color: var(--admin-primary); text-decoration: none; font-weight: 600; }
        .remember-forgot a:hover { text-decoration: underline; }
        
        .alert { border-radius: 8px; padding: 0.75rem 1rem; margin-bottom: 1rem; font-size: 0.9rem; }
        .alert-danger { background: #fef2f2; border: 1px solid #fecaca; color: #991b1b; }
        .text-danger { color: #dc2626; font-size: 0.85rem; margin-top: 0.25rem; display: block; }
        
        .nav-back { position: absolute; top: 1.5rem; left: 1.5rem; display: inline-flex; align-items: center; gap: 0.5rem; color: #94a3b8; text-decoration: none; font-size: 0.9rem; font-weight: 500; transition: all 0.2s; padding: 0.5rem 1rem; border-radius: 8px; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); z-index: 10; border: 1px solid rgba(255,255,255,0.1); }
        .nav-back:hover { color: white; transform: translateX(-3px); background: rgba(255,255,255,0.2); }
        .nav-back i { font-size: 1rem; }
        
        .security-notice { background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px; padding: 1rem; margin-top: 1.5rem; font-size: 0.9rem; color: #0369a1; display: flex; align-items: flex-start; gap: 0.75rem; }
        .security-notice i { color: var(--admin-primary); font-size: 1.25rem; }
        
        .user-login-link { text-align: center; margin-top: 2rem; font-size: 0.95rem; color: #64748b; }
        .user-login-link a { color: var(--admin-primary); font-weight: 600; text-decoration: none; }
        .user-login-link a:hover { text-decoration: underline; }
        
        @@media (max-width: 768px) {
            .login-container { grid-template-columns: 1fr; }
            .login-left { display: none; }
        }
    </style>
</head>
<body>
    <a href="/" class="nav-back"><i class="bi bi-arrow-left"></i> @(isBangla ? "হোম" : "Home")</a>
    <div class="login-container">
        <div class="login-left">
            <div>
                <div class="admin-badge">@(isBangla ? "অ্যাডমিন" : "ADMIN")</div>
                <h1>@(isBangla ? "অ্যাডমিন প্যানেল" : "Admin Panel")</h1>
                <p>@(isBangla ? "সম্পূর্ণ প্ল্যাটফর্ম নিয়ন্ত্রণ" : "Complete platform control")</p>
                <div>
                    <div class="feature"><i class="bi bi-shield-check"></i> <span>@(isBangla ? "সম্পূর্ণ সুরক্ষা" : "Full security")</span></div>
                    <div class="feature"><i class="bi bi-graph-up"></i> <span>@(isBangla ? "বিশ্লেষণ ও রিপোর্ট" : "Analytics & reports")</span></div>
                    <div class="feature"><i class="bi bi-people"></i> <span>@(isBangla ? "ব্যবহারকারী ব্যবস্থাপনা" : "User management")</span></div>
                    <div class="feature"><i class="bi bi-gear"></i> <span>@(isBangla ? "সিস্টেম সেটিংস" : "System settings")</span></div>
                </div>
                <div class="illustration">
                    <i class="bi bi-shield-lock"></i>
                </div>
            </div>
        </div>
        <div class="login-right">
            <div class="login-card">
                <h2 class="sparkle-section-title">@(isBangla ? "অ্যাডমিন সাইন ইন" : "Admin Sign in")</h2>
                <p class="subtitle sparkle-section-subtitle">@(isBangla ? "অ্যাডমিন প্যানেলে প্রবেশ করুন" : "Access the admin dashboard")</p>

                @if (ViewData.ModelState.ErrorCount > 0)
                {
                    <div class="alert alert-danger">
                        <ul class="mb-0 ps-3">
                            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                            {
                                <li>@error.ErrorMessage</li>
                            }
                        </ul>
                    </div>
                }

                <form method="post" asp-action="AdminLogin" asp-controller="Auth">
                    <input type="hidden" asp-for="ReturnUrl" />
                    
                    <div class="form-group">
                        <label asp-for="Email">@(isBangla ? "ইমেইল" : "Email Address")</label>
                        <input asp-for="Email" type="email" class="form-control" placeholder="admin@sparkle.local" autofocus />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>

                    <div class="form-group">
                        <label asp-for="Password">@(isBangla ? "পাসওয়ার্ড" : "Password")</label>
                        <input asp-for="Password" type="password" class="form-control" id="password" placeholder="Enter admin password" />
                        <i class="bi bi-eye password-toggle" id="togglePassword"></i>
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>

                    <div class="remember-forgot">
                        <label>
                            <input asp-for="RememberMe" type="checkbox" /> @(isBangla ? "মনে রাখুন" : "Remember me")
                        </label>
                        <a href="#">@(isBangla ? "পাসওয়ার্ড ভুলে গেছেন?" : "Forgot Password?")</a>
                    </div>

                    <button type="submit" class="btn-primary">@(isBangla ? "সাইন ইন" : "Sign In")</button>

                    <div class="security-notice">
                        <i class="bi bi-shield-check-fill"></i>
                        <span>@(isBangla ? "সুরক্ষিত অ্যাডমিন অ্যাক্সেস" : "Secure admin access only. Unauthorized access is prohibited.")</span>
                    </div>

                    <div class="user-login-link">
                        @(isBangla ? "ব্যবহারকারী হিসেবে লগইন করতে চান?" : "Not an admin?")<br />
                        <a href="/auth/login">@(isBangla ? "ব্যবহারকারী/বিক্রেতা লগইন" : "Go to User/Seller Login")</a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#password');
        if (togglePassword && password) {
            togglePassword.addEventListener('click', function () {
                const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
                password.setAttribute('type', type);
                this.classList.toggle('bi-eye');
                this.classList.toggle('bi-eye-slash');
            });
        }
    </script>
</body>
</html>
